{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programing\\\\Project Dev\\\\Project-MERN-login\\\\client\\\\src\\\\components\\\\routes\\\\AdminRouth.js\",\n  _s = $RefreshSig$();\n// เปลี่ยนชื่อไฟล์จาก AdminRouth.js เป็น AdminRoute.js\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport LoadingToRedirect from './LoadingToRedirect';\nimport { currentAdmin } from '../function/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminRoute = ({\n  children\n}) => {\n  _s();\n  const {\n    user\n  } = useSelector(state => ({\n    ...state\n  }));\n  const [ok, setOk] = useState(false);\n  useEffect(() => {\n    if (user && user.token) {\n      currentAdmin(user.token).then(res => {\n        console.log(res);\n        setOk(true);\n      }).catch(err => {\n        console.log(err);\n        setOk(false);\n      });\n    }\n  }, [user]);\n  return ok ? children : /*#__PURE__*/_jsxDEV(LoadingToRedirect, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 26\n  }, this);\n};\n_s(AdminRoute, \"wBhjhzGBq1sJowQkY90HFv97Gs4=\", false, function () {\n  return [useSelector];\n});\n_c = AdminRoute;\nexport default AdminRoute;\nvar _c;\n$RefreshReg$(_c, \"AdminRoute\");","map":{"version":3,"names":["React","useEffect","useState","useSelector","LoadingToRedirect","currentAdmin","jsxDEV","_jsxDEV","AdminRoute","children","_s","user","state","ok","setOk","token","then","res","console","log","catch","err","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Programing/Project Dev/Project-MERN-login/client/src/components/routes/AdminRouth.js"],"sourcesContent":["// เปลี่ยนชื่อไฟล์จาก AdminRouth.js เป็น AdminRoute.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport LoadingToRedirect from './LoadingToRedirect';\r\nimport { currentAdmin } from '../function/auth';\r\n\r\nconst AdminRoute = ({ children }) => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n  const [ok, setOk] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (user && user.token) {\r\n      currentAdmin(user.token)\r\n        .then((res) => {\r\n          console.log(res);\r\n          setOk(true);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setOk(false);\r\n        });\r\n    }\r\n  }, [user]);\r\n\r\n  return ok ? children : <LoadingToRedirect />;\r\n};\r\n\r\nexport default AdminRoute;\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,aAAa;AACzC,OAAOC,iBAAiB,MAAM,qBAAqB;AACnD,SAASC,YAAY,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhD,MAAMC,UAAU,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACnC,MAAM;IAAEC;EAAK,CAAC,GAAGR,WAAW,CAAES,KAAK,KAAM;IAAE,GAAGA;EAAM,CAAC,CAAC,CAAC;EACvD,MAAM,CAACC,EAAE,EAAEC,KAAK,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAEnCD,SAAS,CAAC,MAAM;IACd,IAAIU,IAAI,IAAIA,IAAI,CAACI,KAAK,EAAE;MACtBV,YAAY,CAACM,IAAI,CAACI,KAAK,CAAC,CACrBC,IAAI,CAAEC,GAAG,IAAK;QACbC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAChBH,KAAK,CAAC,IAAI,CAAC;MACb,CAAC,CAAC,CACDM,KAAK,CAAEC,GAAG,IAAK;QACdH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC;QAChBP,KAAK,CAAC,KAAK,CAAC;MACd,CAAC,CAAC;IACN;EACF,CAAC,EAAE,CAACH,IAAI,CAAC,CAAC;EAEV,OAAOE,EAAE,GAAGJ,QAAQ,gBAAGF,OAAA,CAACH,iBAAiB;IAAAkB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC9C,CAAC;AAACf,EAAA,CAnBIF,UAAU;EAAA,QACGL,WAAW;AAAA;AAAAuB,EAAA,GADxBlB,UAAU;AAqBhB,eAAeA,UAAU;AAAC,IAAAkB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}